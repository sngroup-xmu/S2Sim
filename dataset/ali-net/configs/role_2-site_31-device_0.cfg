!
version 15.2
!
service timestamps debug datetime msec
!
service timestamps log datetime msec
!
boot-start-marker
!
boot-end-marker
!
no aaa new-model
!
ip cef
!
no ipv6 cef
!
multilink bundle-name authenticated
!
ip forward-protocol nd
!
no ip http server
!
no ip http secure-server
!
ip bgp-community new-format
!
hostname role_2-site_31-device_0
!
interface GigabitEthernet0/1
 ip address 10.0.1.65 255.255.255.252
 description role_1-site_14-device_0
!
interface GigabitEthernet0/2
 ip address 10.0.2.65 255.255.255.252
 description role_1-site_17-device_0
!
interface GigabitEthernet0/5
 ip address 10.0.4.104 255.255.255.252
 description role_3-site_19-device_0
!
interface GigabitEthernet0/6
 ip address 10.0.4.108 255.255.255.252
 description role_3-site_19-device_1
!
interface GigabitEthernet0/7
 ip address 10.0.4.112 255.255.255.252
 description role_1-site_18-device_0
!
interface GigabitEthernet0/4
 ip address 10.0.4.81 255.255.255.252
 description role_1-site_15-device_0
!
interface GigabitEthernet0/8
 ip address 10.0.4.116 255.255.255.252
 description role_1-site_10-device_0
!
interface GigabitEthernet0/3
 ip address 10.0.3.105 255.255.255.252
 description role_1-site_12-device_0
!
interface GigabitEthernet0/9
 ip address 10.0.4.120 255.255.255.252
 description role_1-site_39-device_0
!
interface GigabitEthernet1/0
 ip address 10.0.4.124 255.255.255.252
 description role_1-site_37-device_0
!

!
interface loopback 0
 ip address 82.163.100.235 255.255.255.255
!
router bgp 142
 bgp router-id 82.163.100.235
 neighbor group_5 peer-group
 neighbor 163.154.129.252 peer-group group_5
 neighbor 163.154.129.252 remote-as 134
 neighbor 163.154.129.252 description role_1-site_37-device_0
 neighbor 163.154.129.252 update-source LoopBack0
 neighbor 163.154.129.253 peer-group group_5
 neighbor 163.154.129.253 remote-as 135
 neighbor 163.154.129.253 description role_1-site_39-device_0
 neighbor 163.154.129.253 update-source LoopBack0
 neighbor group_5 send-community both
 neighbor group_4 peer-group
 neighbor 82.163.100.26 peer-group group_4
 neighbor 82.163.100.26 remote-as 158
 neighbor 82.163.100.26 description role_3-site_19-device_0
 neighbor 82.163.100.26 update-source LoopBack0
 neighbor 82.163.100.27 peer-group group_4
 neighbor 82.163.100.27 remote-as 159
 neighbor 82.163.100.27 description role_3-site_19-device_1
 neighbor 82.163.100.27 update-source LoopBack0
 neighbor group_4 send-community both
 neighbor group_6 peer-group
 neighbor 82.163.100.89 peer-group group_6
 neighbor 82.163.100.89 remote-as 127
 neighbor 82.163.100.89 description role_1-site_12-device_0
 neighbor 82.163.100.89 update-source LoopBack0
 neighbor 82.163.100.88 peer-group group_6
 neighbor 82.163.100.88 remote-as 126
 neighbor 82.163.100.88 description role_1-site_10-device_0
 neighbor 82.163.100.88 update-source LoopBack0
 neighbor group_6 send-community both
 neighbor group_1 peer-group
 neighbor 163.154.129.166 peer-group group_1
 neighbor 163.154.129.166 remote-as 128
 neighbor 163.154.129.166 description role_1-site_14-device_0
 neighbor 163.154.129.166 update-source LoopBack0
 neighbor 163.154.129.170 peer-group group_1
 neighbor 163.154.129.170 remote-as 130
 neighbor 163.154.129.170 description role_1-site_17-device_0
 neighbor 163.154.129.170 update-source LoopBack0
 neighbor group_1 send-community both
 neighbor group_0 peer-group
 neighbor group_0 send-community both
 neighbor group_3 peer-group
 neighbor group_3 send-community both
 neighbor group_2 peer-group
 neighbor 82.163.100.127 peer-group group_2
 neighbor 82.163.100.127 remote-as 131
 neighbor 82.163.100.127 description role_1-site_18-device_0
 neighbor 82.163.100.127 update-source LoopBack0
 neighbor 82.163.100.126 peer-group group_2
 neighbor 82.163.100.126 remote-as 129
 neighbor 82.163.100.126 description role_1-site_15-device_0
 neighbor 82.163.100.126 update-source LoopBack0
 neighbor group_2 send-community both
 neighbor group_0 route-map policy_0 in
 neighbor group_3 route-map policy_3 in
 neighbor group_5 route-map policy_4 out
 neighbor group_6 route-map policy_2 out
 neighbor group_1 route-map policy_2 out
 neighbor group_0 route-map policy_1 out
 neighbor group_3 route-map policy_5 out
 neighbor group_2 route-map policy_4 out
!
route-map policy_5 deny 10

!

route-map policy_0 permit 10
 match ip address prefix-list 1
 set community 23111:39000 35607:4606 additive
 set local-preference 100
route-map policy_0 permit 20
 match ip address prefix-list 2
 set community 23111:39000 35607:4606 additive
 set local-preference 100
route-map policy_0 deny 100

!

route-map policy_2 deny 10
 match ip address prefix-list 1
route-map policy_2 deny 20
 match ip address prefix-list 2
route-map policy_2 permit 100

!

route-map policy_1 permit 10
 match ip address prefix-list 1
route-map policy_1 permit 20
 match ip address prefix-list 2
route-map policy_1 deny 100

!

route-map policy_4 permit 10
 match ip address prefix-list 1
 set community 23118:50063 additive
route-map policy_4 permit 20
 match ip address prefix-list 2
 set community 23118:50063 additive
route-map policy_4 deny 100

!

route-map policy_3 deny 100

!
ip prefix-list 1 seq 10 permit 50.116.128.0/17 ge 17 le 32
ip prefix-list 1 seq 20 permit 146.95.45.128/25 ge 25 le 32
ip prefix-list 1 seq 30 permit 146.148.129.0/25 ge 25 le 32
ip prefix-list 1 seq 40 permit 146.148.129.128/25 ge 25 le 32
ip prefix-list 1 seq 50 permit 146.148.130.0/25 ge 25 le 32
ip prefix-list 1 seq 60 permit 146.148.130.128/25 ge 25 le 32
ip prefix-list 1 seq 70 permit 146.148.131.0/25 ge 25 le 32
ip prefix-list 1 seq 80 permit 146.148.131.128/25 ge 25 le 32
ip prefix-list 1 seq 90 permit 146.148.128.0/17 ge 17 le 32
ip prefix-list 1 seq 100 permit 50.127.192.0/18 ge 18 le 32
ip prefix-list 1 seq 110 permit 39.93.0.0/16 ge 16 le 32
ip prefix-list 1 seq 120 permit 146.246.128.0/17 ge 17 le 32
!
ip prefix-list 2 seq 10 permit 146.178.105.0/24 ge 24 le 32
ip prefix-list 2 seq 20 permit 146.178.60.153/32 ge 32 le 32
ip prefix-list 2 seq 30 permit 146.178.60.154/32 ge 32 le 32
ip prefix-list 2 seq 40 permit 50.210.55.0/24 ge 24 le 32
ip prefix-list 2 seq 50 permit 146.224.140.64/26 ge 26 le 26
ip prefix-list 2 seq 60 permit 146.102.250.0/26 ge 26 le 26
ip prefix-list 2 seq 70 permit 146.189.153.128/26 ge 26 le 26
!
ip route 163.154.129.166 255.255.255.255 10.0.1.64
!
ip route 163.154.129.170 255.255.255.255 10.0.2.64
!
ip route 82.163.100.26 255.255.255.255 10.0.4.105
!
ip route 82.163.100.27 255.255.255.255 10.0.4.109
!
ip route 82.163.100.127 255.255.255.255 10.0.4.113
!
ip route 82.163.100.126 255.255.255.255 10.0.4.80
!
ip route 82.163.100.88 255.255.255.255 10.0.4.117
!
ip route 82.163.100.89 255.255.255.255 10.0.3.104
!
ip route 163.154.129.253 255.255.255.255 10.0.4.121
!
ip route 163.154.129.252 255.255.255.255 10.0.4.125
!

